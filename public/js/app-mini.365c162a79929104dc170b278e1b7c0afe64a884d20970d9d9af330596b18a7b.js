(()=>{var l=()=>{let e=$("body").attr("class")==="io-grey-mode"?"1":"0";localStorage.setItem("Hugo_Night",e),a(e)},a=e=>{typeof config>"u"&&(config={}),config.hasOwnProperty("bg_img")||(config.bg_img=""),config.hasOwnProperty("bg_img_night")||(config.bg_img_night="");let t=(o,s,i,n)=>{$("body").attr("class",o),$(".switch-dark-mode").attr({title:s,"data-original-title":s}),$(".mode-ico").removeClass("fa-sun").removeClass("fa-moon").addClass(i),n.length>0?$("body").css("background-image",`url(${n})`).css("background-size","cover").css("background-attachment","fixed"):$("body").css("background-image","none")};e==="0"?t("io-grey-mode","\u65E5\u95F4\u6A21\u5F0F","fa-sun",config.bg_img):t("io-black-mode","\u591C\u95F4\u6A21\u5F0F","fa-moon",config.bg_img_night)},d=()=>{if($(".main-footer").attr("style",""),$(".main-footer").hasClass("text-xs")){let e=jQuery(window).height(),t=$(".main-footer").outerHeight(!0),o=$(".main-footer").position().top+t;e>o-parseInt($(".main-footer").css("marginTop"),10)&&$(".main-footer").css({marginTop:e-o})}},r=(e,t,o)=>{let s=e.children(".anchor"),i=e.children(".hover").first();if((!i||i.length===0)&&(i=o?e.find(".active").parent():e.find(".active")),i.length>0){let n=t?i.position().left+i.scrollLeft()+"px":i.position().left+i.scrollLeft()+i.outerWidth()/4+"px",c=t?i.outerWidth()+"px":i.outerWidth()/2+"px";s.css({left:n,width:c,opacity:"1"})}else s.css({opacity:"0"})},h=()=>{$(".slider_menu[sliderTab]").each(function(){let e=$(this).children("ul");e.prepend('<li class="anchor" style="position:absolute;width:0;height:28px"></li>');let t=e.find(".active").parent();t.length>0&&e.children(".anchor").css({left:t.position().left+t.scrollLeft()+"px",width:t.outerWidth()+"px",height:t.height()+"px",opacity:"1"}),$(this).addClass("into")})};(function(){let e=$("#NightMode").attr("data"),t=new Date().getHours()>19||new Date().getHours()<6?"1":"0",o=localStorage.getItem("Hugo_Night");(()=>{a(e==="3"||e==="4"?parseInt(e)-3:o||(e==="2"?t:e))})(),$("#NightMode").click(l)})();(function(e){e(document).ready(function(){e("#loading").addClass("close"),setTimeout(()=>e("#loading").remove(),500),d(),h(),setTimeout(()=>{let s=window.location.hash;s.length>0&&(s.startsWith("#category-")?e('a.smooth[href="'+window.location.hash+'"]').click():e("body,html").animate({scrollTop:0},500))},300),e(document).on("click","a.smooth",function(s){if(e("#sidebar").hasClass("show")&&!e(this).hasClass("change-href")&&e("#sidebar").modal("toggle"),e(this).attr("href").substr(0,1)==="#"&&e("html, body").animate({scrollTop:e(e(this).attr("href")).offset().top-90},{duration:500,easing:"swing"}),!e(this).hasClass("change-href")){let i=e("a"+e(this).attr("href"));i.click(),r(i.parent().parent(),!0,!0)}});let t=e("#search-bg").length>0;t||e(".big-header-banner").addClass("header-bg"),e(window).scroll(function(){e(this).scrollTop()>=50?(e("#to-up").fadeIn(200),t&&e(".big-header-banner").addClass("header-bg")):(e("#to-up").fadeOut(200),t&&e(".big-header-banner").removeClass("header-bg"))}),e("#to-up").click(function(){e("body,html").animate({scrollTop:0},500),window.location.hash="#header"}),e("#sidebar-switch").on("click",function(){e("#sidebar").removeClass("mini-sidebar")}),e(".sidebar-menu-inner a").on("click",function(){e(".sidebar-nav").hasClass("mini-sidebar")||(e(this).parent("li").siblings("li.sidebar-item").children("ul").slideUp(200),e(this).next().css("display")==="none"?(e(this).next("ul").slideDown(200),e(this).parent("li").addClass("sidebar-show").siblings("li").removeClass("sidebar-show")):(e(this).next("ul").slideUp(200),e(this).parent("li").removeClass("sidebar-show")))});let o=()=>{e('.header-mini-btn input[type="checkbox"]').prop("checked")?(e(".sidebar-nav").removeClass("mini-sidebar"),e(".sidebar-menu ul ul").css("display","none"),e(".sidebar-nav").addClass("animate-nav"),e(".sidebar-nav").stop().animate({width:170},200)):(e(".sidebar-item.sidebar-show").removeClass("sidebar-show"),e(".sidebar-menu ul").removeAttr("style"),e(".sidebar-nav").addClass("mini-sidebar"),e(".sidebar-nav.change-href").each(function(){e(this).attr("href",e(this).data("change"))}),e(".sidebar-nav").addClass("animate-nav"),e(".sidebar-nav").stop().animate({width:60},200))};e("#mini-button").on("click",o),e("#sidebar").attr("data")==="1"&&e("#mini-button").click(),e(document).on("mouseover",".mini-sidebar.sidebar-menu ul:first>li,.mini-sidebar.flex-bottom ul:first>li",function(){let s=e(this).parents(".flex-bottom").length!==0?-3:2;e(".sidebar-popup.second").length===0&&e("body").append("<div class='second sidebar-popup sidebar-menu-inner text-sm'><div></div></div>"),e(".sidebar-popup.second>div").html(e(this).html()),e(".sidebar-popup.second").show();let i=e(this).offset().top-e(window).scrollTop()+s,n=e(window).height()-e(".sidebar-popup.second>div").height();n-i<=0&&(i=n>=0?n-8:0),e(".sidebar-popup.second").stop().animate({top:i},50)}),e(document).on("mouseleave",".mini-sidebar.sidebar-menu ul:first,.mini-sidebar.slimScrollBar,.second.sidebar-popup",function(){e(".sidebar-popup.second").hide()}),e(document).on("mouseover",".mini-sidebar.slimScrollBar,.second.sidebar-popup",function(){e(".sidebar-popup.second").show()}),e(".slider_menu").children("ul").children("li").not(".anchor").hover(function(){e(this).addClass("hover"),r(e(this).parent(),!0,!0)},function(){e(this).removeClass("hover")}),e(".slider_menu").mouseleave(function(s){let i=e(this).children("ul");setTimeout(()=>r(i,!0,!0),50)})}),e(window).resize(function(){setTimeout(d,200)})})(jQuery);})();
